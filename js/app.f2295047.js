(function(e){function t(t){for(var n,o,l=t[0],s=t[1],u=t[2],d=0,m=[];d<l.length;d++)o=l[d],Object.prototype.hasOwnProperty.call(r,o)&&r[o]&&m.push(r[o][0]),r[o]=0;for(n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n]);c&&c(t);while(m.length)m.shift()();return i.push.apply(i,u||[]),a()}function a(){for(var e,t=0;t<i.length;t++){for(var a=i[t],n=!0,l=1;l<a.length;l++){var s=a[l];0!==r[s]&&(n=!1)}n&&(i.splice(t--,1),e=o(o.s=a[0]))}return e}var n={},r={app:0},i=[];function o(t){if(n[t])return n[t].exports;var a=n[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,o),a.l=!0,a.exports}o.m=e,o.c=n,o.d=function(e,t,a){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)o.d(a,n,function(t){return e[t]}.bind(null,n));return a},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/";var l=window["webpackJsonp"]=window["webpackJsonp"]||[],s=l.push.bind(l);l.push=t,l=l.slice();for(var u=0;u<l.length;u++)t(l[u]);var c=s;i.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"034f":function(e,t,a){"use strict";a("1530")},1530:function(e,t,a){},"56d7":function(e,t,a){"use strict";a.r(t);a("e260"),a("e6cf"),a("cca6"),a("a79d");var n=a("2b0e"),r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"app"}},[a("div",[e._v("\n    統帥值: \n    "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.maxLife,expression:"maxLife"}],attrs:{type:"text"},domProps:{value:e.maxLife},on:{input:function(t){t.target.composing||(e.maxLife=t.target.value)}}})]),a("div",[e._v("\n    Max columns: \n    "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.maxCol,expression:"maxCol"}],attrs:{type:"text"},domProps:{value:e.maxCol},on:{input:function(t){t.target.composing||(e.maxCol=t.target.value)}}})]),a("br"),a("textarea",{directives:[{name:"model",rawName:"v-model",value:e.message,expression:"message"}],attrs:{placeholder:"add multiple lines"},domProps:{value:e.message},on:{input:function(t){t.target.composing||(e.message=t.target.value)}}}),a("br"),a("button",{on:{click:e.generate}},[e._v("\n    Generate\n  ")]),a("hr"),a("table",[a("thead",[a("tr",[e._m(0),e._m(1),e._l(e.maxCol,(function(t){return a("td",{key:t},[a("b",[e._v("\n            "+e._s(t)+" 回體力\n          ")])])}))],2)]),a("tbody",e._l(e.scheduleList,(function(t,n){return a("tr",{key:n},[t.title?a("td",{attrs:{rowspan:t.count}},[a("b",[t.nodb?a("span",[e._v("\n            "+e._s(t.name)+"\n          ")]):a("a",{attrs:{href:t.nameLink,target:"_blank"}},[e._v("\n            "+e._s(t.name)+"\n          ")])])]):e._e(),a("td",[a("a",{attrs:{href:t.startLink,target:"_blank"}},[e._v("\n          "+e._s(t.startTime)+"\n          ")])]),e._l(t.list,(function(t,n){return a("td",{key:"event"+n},[a("a",{attrs:{href:t.link,target:"_blank"}},[e._v("\n            "+e._s(t.time)+"\n          ")])])})),e._l(e.maxCol-t.list.length>0?e.maxCol-t.list.length:0,(function(e,t){return a("td",{key:"space"+t})}))],2)})),0)])])},i=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("td",[a("b",[e._v("\n          活動\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("td",[a("b",[e._v("\n            時間\n          ")])])}],o=(a("fb6a"),a("ac1f"),a("1276"),a("7db0"),a("99af"),a("4e82"),a("5319"),a("b0c0"),[{id:51,value:999999,max:1,name:"EX貓咪半價出售",nodb:!0},{id:1067,value:999999,max:1,name:"小籠包★Q彈來襲",nodb:!0},{id:1006,value:250,max:0,name:"貓咪券☆機會！"},{id:1007,value:400,max:0,name:"逆襲的河馬將"},{id:1078,value:400,max:1,name:"逆襲的臉君"},{id:1173,value:500,max:1,name:"大逆襲的鋼鐵熊"},{id:1028,value:500,max:0,name:"游擊戰經驗值喵！"},{id:1059,value:500,max:0,name:"超級游擊經驗值！"},{id:1124,value:500,max:0,name:"終極游擊經驗值！"},{id:1155,value:500,max:1,name:"超終極游擊經驗值喵！"},{id:1118,value:500,max:0,name:"貓薄荷挑戰"},{id:1183,value:6,max:1,name:"賀！6週年！！"},{id:11005,value:999999,max:1,name:"排行賽 六週年紀念大會"},{id:1033,value:999999,max:1,name:"特別紀念"},{id:1034,value:999999,max:1,name:"超強紀念"},{id:1035,value:999999,max:1,name:"無敵紀念"},{id:1070,value:999999,max:1,name:"絕佳紀念"},{id:1079,value:999999,max:1,name:"卓越紀念"},{id:1146,value:999999,max:1,name:"偉大紀念"},{id:24006,value:999999,max:1,name:"巨蛾蛾蛾強襲 ! (飛來Lv.1~Lv.20)"},{id:24007,value:999999,max:1,name:"巨蛾蛾蛾強襲 !! (飛來Lv.21~Lv.40)"},{id:24008,value:999999,max:1,name:"巨蛾蛾蛾強襲 !!! (飛來Lv.41~Lv.60)"}]);function l(e){return"number"===typeof e?e:parseInt(e,10)}Date.prototype.addDays=function(e){var t=new Date(this.valueOf());return t.setDate(t.getDate()+e),t},Date.prototype.addMinutes=function(e){var t=new Date(this.valueOf());return t.setTime(t.getTime()+60*e*1e3),t},Date.prototype.setCatTime=function(e){var t=new Date(this.valueOf()),a=new Date(t.getFullYear()+"-"+("00"+(t.getMonth()+1)).slice(-2)+"-"+("00"+t.getDate()).slice(-2)+"T"+e.slice(0,2)+":"+e.slice(2,4));return a},Date.prototype.setCatDay=function(e){var t=new Date(this.valueOf()),a=t.getMonth()+1;l(e)<t.getDate()&&a++;var n=new Date(t.getFullYear()+"-"+("00"+a).slice(-2)+"-"+("00"+e).slice(-2)+"T00:00");return n};var s={name:"App",data:function(){return{maxLife:1050,maxCol:0,message:"",scheduleList:[]}},methods:{generate:function(){var e=this;this.scheduleList=[];var t=this.message.split("\n");this.maxCol=0;for(var a=[],n=function(n){var r=t[n].split("\t"),i=0,o=[];if(r.length<10)return"continue";var s=e.formatToDate(r[i],r[i+1]);i+=2;var u=e.formatToDate(r[i],r[i+1]);if(i+=2,i+=3,"1"==r[i]){i+=4;var c=2*l(r[i]);i+=1;for(var d=s;d<u;d=d.addDays(1))for(var m=0;m<c;m+=2){var f=("0000"+r[i+m]).slice(-4),v=("0000"+r[i+m+1]).slice(-4);o.push({start:d.setCatTime(f),end:d.setCatTime(v)})}i+=c;var p=l(r[i]);i+=1;for(var g=function(e){var t=a.find((function(t){return t.id==r[i+e]}));"undefined"!==typeof t?t.list=t.list.concat(o):a.push({id:r[i+e],list:Object.assign([],o)})},h=0;h<p;h++)g(h)}else if(l(r[i])>1){var x=l(r[i]);i+=1;for(var b=0;b<x;b++){i+=1;var y=l(r[i]),_=[],O=[];i+=1;for(var D=0;D<y;D++)_.push(s.setCatDay(r[i+D]));i+=y,i+=1;var w=l(r[i]);i+=1;for(var L=0;L<w;L+=2)for(var T=("0000"+r[i+L]).slice(-4),k=("0000"+r[i+L+1]).slice(-4),C=0;C<y;C++){var M=_[C].setCatTime(T);M.valueOf()>=s.valueOf()&&M.valueOf()<=u.valueOf()&&O.push({start:M,end:M.setCatTime(k)})}i+=2*w,o=o.concat(O)}o.sort((function(e,t){return e.start.valueOf()-t.start.valueOf()}));var j=l(r[i]);i+=1;for(var P=function(e){var t=a.find((function(t){return t.id==r[i+e]}));"undefined"!==typeof t?t.list=t.list.concat(o):a.push({id:r[i+e],list:Object.assign([],o)})},S=0;S<j;S++)P(S)}else if("0"==r[i]){i+=1,o.push({start:s,end:u});var E=l(r[i]);i+=1;for(var I=function(e){var t=a.find((function(t){return t.id==r[i+e]}));"undefined"!==typeof t?t.list=t.list.concat(o):a.push({id:r[i+e],list:Object.assign([],o)})},$=0;$<E;$++)I($)}},r=0;r<t.length;r++)n(r);for(var i=function(t){var n=a[t],r=o.find((function(e){return e.id==n.id}));"undefined"===typeof r&&(r={id:n.id,value:999999,max:0,name:"未定義活動"});for(var i="boolean"===typeof r.nodb&&r.nodb?"":"https://battlecats-db.com/stage/s"+("00000"+n.id).slice(-5)+".html",l=0;l<n.list.length;l++){var s=n.list[l].start,u=s.toISOString().replace(/-/g,"").replace(".000","").replace(/:/g,""),c=n.list[l].end.toISOString().replace(/-/g,"").replace(".000","").replace(/:/g,""),d=("00"+s.getHours()).slice(-2)+":"+("00"+s.getMinutes()).slice(-2),m={startTime:"".concat(s.getFullYear(),"/").concat(s.getMonth()+1,"/").concat(s.getDate()," ").concat(d),startLink:"https://calendar.google.com/calendar/render?action=TEMPLATE&text=貓戰-".concat(r.name,"&dates=").concat(u,"/").concat(c,"&details=").concat(i),list:[]};0==l&&(m.title=!0,m.name=r.name,m.count=n.list.length,m.nameLink=i,m.nodb="boolean"===typeof r.nodb&&r.nodb);for(var f=1;e.maxLife-r.value*f>=0&&(0==r.max||f-1<r.max);f++){var v=s.addMinutes(r.value*f*-1/2),p=v.toISOString().replace(/-/g,"").replace(".000","").replace(/:/g,""),g={time:"",link:""};g.time="".concat(v.getHours(),":").concat(v.getMinutes()),g.link="https://calendar.google.com/calendar/render?action=TEMPLATE&text=貓戰儲存體力-".concat(r.name,"&dates=").concat(p,"/").concat(p,"&details=").concat(i),m.list.push(g),e.maxCol<f&&(e.maxCol=f)}e.scheduleList.push(m)}},s=0;s<a.length;s++)i(s)},formatToDate:function(e,t){var a=("0000"+t).slice(-4);return new Date(e.slice(0,4)+"-"+e.slice(4,6)+"-"+e.slice(6,8)+"T"+a.slice(0,2)+":"+a.slice(2,4))}}},u=s,c=(a("034f"),a("2877")),d=Object(c["a"])(u,r,i,!1,null,null,null),m=d.exports;n["a"].config.productionTip=!1,new n["a"]({render:function(e){return e(m)}}).$mount("#app")}});
//# sourceMappingURL=app.f2295047.js.map